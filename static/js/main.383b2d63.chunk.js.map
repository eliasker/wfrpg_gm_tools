{"version":3,"sources":["recoil/atoms.js","recoil/selectors.js","components/generic/SearchForm.js","util/arrayUtils.js","components/rules/Talent.js","components/rules/TalentList.js","components/rules/TalentsPage.js","components/rules/Skill.js","components/rules/SkillList.js","components/rules/SkillsPage.js","components/rules/Spells.js","App.js","index.js"],"names":["talentsJSON","require","skillsJSON","spellsJSON","talentState","atom","key","default","talents","skillState","skills","spellGroupState","groups","selectedTalents","selectorFamily","get","filterType","list","filter","item","isSelected","selectedSkills","SearchForm","searchInput","setSearchInput","placeholder","onSubmit","e","preventDefault","type","value","onChange","target","replaceItemAtIndex","array","index","newValue","slice","Talent","talent","useRecoilState","talentList","setTalentList","name","checked","newList","id","max","tests","desc","TalentList","map","t","Talents","useRecoilValue","useState","filteredTalents","toLowerCase","includes","Skill","skill","skillList","setSkillList","child","example","options","specialisations","SkillList","s","Skills","filteredSkills","Spells","spellGroups","Group","group","ingredients","mapAllSpells","spells","mapSpells","Spell","spell","CN","range","duration","App","Main","Navbar","Brand","as","Link","to","Collapse","Nav","className","exact","path","SkillsPage","TalentsPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.383b2d63.chunk.js","sourcesContent":["import { atom } from 'recoil'\r\n\r\nconst talentsJSON = require('../data/talents.json')\r\nconst skillsJSON = require('../data/skills.json')\r\nconst spellsJSON = require('../data/spells.json')\r\n\r\nexport const talentState = atom({\r\n  key: 'talent state',\r\n  default: talentsJSON.talents\r\n})\r\n\r\nexport const skillState = atom({\r\n  key: 'skill state',\r\n  default: skillsJSON.skills\r\n})\r\n\r\nexport const spellGroupState = atom({\r\n  key: 'spell state',\r\n  default: spellsJSON.groups\r\n})\r\n","import { selectorFamily } from 'recoil'\r\nimport { skillState, talentState } from './atoms'\r\n\r\n// Returns list of talents depending on selected 'mode'\r\n// Default is everything\r\nexport const selectedTalents = selectorFamily({\r\n  key: 'selectedTalents',\r\n  get: (filterType) => ({ get }) => {\r\n    const list = get(talentState)\r\n\r\n    switch (filterType) {\r\n      case 'Selected':\r\n        return list.filter((item) => item.isSelected)\r\n      // TODO: searchinput state to atoms.js\r\n      // Reset on rerendering Talents -page?\r\n      /*\r\n      case 'Search':\r\n        const searchInput = get(talentListSearchInput)\r\n        return list.filter(t =>\r\n          t.name.toLowerCase().includes(searchInput.toLowerCase()))\r\n      */\r\n      default:\r\n        return list\r\n    }\r\n  }\r\n})\r\n\r\nexport const selectedSkills = selectorFamily({\r\n  key:'selectedSkills',\r\n  get: (filterType) => ({ get}) => {\r\n    const list = get(skillState)\r\n\r\n    switch(filterType) {\r\n      case 'Selected':\r\n        return list.filter((item) => item.isSelected)\r\n      default: \r\n        return list  \r\n    }\r\n  }\r\n})\r\n","import React from 'react'\r\n\r\nconst SearchForm = ({ searchInput, setSearchInput, placeholder }) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={e => e.preventDefault()}>\r\n        <input type='search'\r\n          placeholder={placeholder}\r\n          value={searchInput}\r\n          onChange={e => setSearchInput(e.target.value)}\r\n        />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchForm","/**\r\n * Generic utility function for filtering an array with given input\r\n * @params array {array} Initial array\r\n * @params filterInput {string} String that is compared to strings in array \r\n * @returns filtered array containing strings from initial array that include filterInput\r\n */\r\nexport function arrayFilter(array, filterInput) {\r\n  return array.filter(str => str.toLowerCase().includes(filterInput.toLowerCase()))\r\n}\r\n\r\n\r\nexport function replaceItemAtIndex(array, index, newValue) {\r\n  return [...array.slice(0, index), newValue, ...array.slice(index + 1)]\r\n}\r\n","import React from 'react'\r\nimport { useRecoilState } from 'recoil'\r\nimport { talentState } from '../../recoil/atoms'\r\nimport { replaceItemAtIndex } from '../../util/arrayUtils'\r\n\r\nconst Talent = ({ talent }) => {\r\n  const [talentList, setTalentList] = useRecoilState(talentState)\r\n\r\n  const toggleSelected = () => {\r\n    const newList = replaceItemAtIndex(talentList, talent.id, {\r\n      ...talent,\r\n      isSelected: !talent.isSelected,\r\n    })\r\n\r\n    setTalentList(newList)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>{talent.name}</h3>\r\n      <input type=\"checkbox\"\r\n        checked={talent.isSelected}\r\n        onChange={toggleSelected}\r\n      />\r\n      <p>{talent.max}</p>\r\n      <p>{talent.tests}</p>\r\n      <p>{talent.desc}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Talent\r\n","import React from 'react'\r\n\r\nimport Talent from './Talent'\r\n\r\nconst TalentList = ({ talents }) => {\r\n  return (\r\n    <div>\r\n      {talents.map(t => <Talent talent={t} key={t.id} />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TalentList\r\n","import React, { useState } from 'react'\r\nimport { useRecoilValue } from 'recoil'\r\nimport { talentState } from '../../recoil/atoms'\r\n\r\nimport SearchForm from '../generic/SearchForm'\r\nimport TalentList from './TalentList'\r\n\r\nconst Talents = () => {\r\n  const talentList = useRecoilValue(talentState)\r\n  const [searchInput, setSearchInput] = useState('')\r\n\r\n  const filteredTalents = talentList.filter(t =>\r\n    t.name.toLowerCase().includes(searchInput.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <SearchForm\r\n        searchInput={searchInput}\r\n        setSearchInput={setSearchInput}\r\n        placeholder='Search Talents by name'\r\n      />\r\n      <TalentList talents={filteredTalents} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Talents\r\n","import React from 'react'\r\nimport { useRecoilState } from 'recoil'\r\nimport { skillState } from '../../recoil/atoms'\r\nimport { replaceItemAtIndex } from '../../util/arrayUtils'\r\n\r\nconst Skill = ({ skill }) => {\r\n  const [skillList, setSkillList] = useRecoilState(skillState)\r\n\r\n  const toggleSelected = () => {\r\n    const newList = replaceItemAtIndex(skillList, skill.id, {\r\n      ...skill,\r\n      isSelected: !skill.isSelected,\r\n    })\r\n\r\n    setSkillList(newList)\r\n  }\r\n\r\n  // FIXME: key={child} :DDD\r\n  const mapDesc = (array) => array.map(child =>\r\n    <p key={child}>{child}</p>)\r\n\r\n  return (\r\n    <div key={skill.id}>\r\n      <h3>{skill.name}</h3>\r\n      <input type=\"checkbox\"\r\n        checked={skill.isSelected}\r\n        onChange={toggleSelected}\r\n      />\r\n      {mapDesc(skill.desc)}\r\n      <p>{skill.example}</p>\r\n      <p>{skill.options}</p>\r\n      <p>{skill.specialisations}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Skill\r\n","import React from 'react'\r\nimport Skill from './Skill'\r\n\r\nconst SkillList = ({ skills }) => {\r\n  return (\r\n    <div>\r\n      {skills.map(s =>\r\n        <Skill skill={s} key={s.id} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SkillList\r\n","import React, { useState } from 'react'\r\nimport { useRecoilValue } from 'recoil'\r\nimport { skillState } from '../../recoil/atoms'\r\n\r\nimport SearchForm from '../generic/SearchForm'\r\nimport SkillList from './SkillList'\r\n\r\n// TODO: Add Table property to skills.json where needed\r\nconst Skills = () => {\r\n  const skillList = useRecoilValue(skillState)\r\n  const [searchInput, setSearchInput] = useState('')\r\n\r\n  const filteredSkills = skillList.filter(s =>\r\n    s.name.toLowerCase().includes(searchInput.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <SearchForm\r\n        searchInput={searchInput}\r\n        setSearchInput={setSearchInput}\r\n        placeholder='Search Skills by name'\r\n      />\r\n      <SkillList skills={filteredSkills} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Skills\r\n","import React, { useState } from 'react'\r\nimport { useRecoilValue } from 'recoil'\r\n\r\nimport { spellGroupState } from '../../recoil/atoms'\r\nimport SearchForm from '../generic/SearchForm'\r\n\r\n// TODO: selecting school of magic\r\n// TODO: CSS for spell groups\r\n// TODO: CSS for spells\r\n// TODO: Spell component & Spell group component to separate file?\r\nconst Spells = () => {\r\n  const spellGroups = useRecoilValue(spellGroupState)\r\n  const [searchInput, setSearchInput] = useState('')\r\n\r\n  const Group = ({ group }) =>\r\n    group.name.toLowerCase().includes(searchInput.toLowerCase()) ?\r\n      <div>\r\n        <h3>{group.name}</h3>\r\n        <p>{group.desc}</p>\r\n        <p>{group.ingredients}</p>\r\n        {mapAllSpells(group.spells)}\r\n      </div>\r\n      :\r\n      mapSpells(group.spells)\r\n\r\n  const Spell = ({ spell }) =>\r\n    <div>\r\n      <h3>{spell.name}</h3>\r\n      <p>{spell.CN}</p>\r\n      <p>{spell.range}</p>\r\n      <p>{spell.target}</p>\r\n      <p>{spell.duration}</p>\r\n      <p>{spell.desc}</p>\r\n    </div>\r\n\r\n  const mapAllSpells = (spells) => spells.map(spell => <Spell spell={spell} key={spell.name} />)\r\n\r\n  const mapSpells = (spells) => spells.map(spell =>\r\n    spell.name.toLowerCase().includes(searchInput.toLowerCase()) ?\r\n      <Spell spell={spell} key={spell.name} />\r\n      : null)\r\n\r\n  const mapSpellGroups = () => spellGroups.map(group => <Group group={group} key={group.name} />)\r\n\r\n  return (\r\n    <div>\r\n      <SearchForm\r\n        searchInput={searchInput}\r\n        setSearchInput={setSearchInput}\r\n        placeholder='Search Spells by name'\r\n      />\r\n      {mapSpellGroups()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spells\r\n","import React from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from 'react-router-dom'\r\n\r\nimport { Navbar, Nav } from 'react-bootstrap'\r\nimport './index.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nimport { RecoilRoot, useRecoilValue } from 'recoil'\r\nimport { selectedTalents, selectedSkills } from './recoil/selectors'\r\n\r\nimport TalentsPage from './components/rules/TalentsPage'\r\nimport SkillsPage from './components/rules/SkillsPage'\r\nimport Spells from './components/rules/Spells'\r\nimport TalentList from './components/rules/TalentList'\r\nimport SkillList from './components/rules/SkillList'\r\n\r\nconst App = () => {\r\n  // TODO: Move to separate component\r\n  // TODO: Alternate description for empty lists\r\n  const Main = () => {\r\n    const talents = useRecoilValue(selectedTalents('Selected'))\r\n    const skills = useRecoilValue(selectedSkills('Selected'))\r\n    return (\r\n      <div>\r\n        <h3>Warhammer Fantasy RPG utilities</h3>\r\n        <SkillList skills={skills} />\r\n        <TalentList talents={talents} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <RecoilRoot>\r\n      <Router>\r\n        <Navbar>\r\n          <Navbar.Brand as={Link} to=\"/\">\r\n            WFRPG\r\n          </Navbar.Brand>\r\n          <Navbar.Collapse>\r\n            <Nav>\r\n              <Link to=\"/talents\" className=\"nav-link\">Talents</Link>\r\n              <Link to=\"/skills\" className=\"nav-link\">Skills</Link>\r\n              <Link to=\"/spells\" className=\"nav-link\">Spells</Link>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\"><Main /></Route>\r\n          <Route path=\"/skills\"><SkillsPage /></Route>\r\n          <Route path=\"/talents\"><TalentsPage /></Route>\r\n          <Route path=\"/spells\"><Spells /></Route>\r\n        </Switch>\r\n      </Router>\r\n    </RecoilRoot>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />, document.getElementById('root')\r\n)"],"sourceRoot":""}